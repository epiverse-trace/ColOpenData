<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ColOpenData">
<title>Download geospatial data • ColOpenData</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download geospatial data">
<meta property="og:description" content="ColOpenData">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="../logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">ColOpenData</a>

    <small class="nav-text text-muted me-auto version-number" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/climate_data.html">Download climate data</a>
    <a class="dropdown-item" href="../articles/geospatial_data.html">Download geospatial data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Download geospatial data</h1>
            
      
      
      <div class="d-none name"><code>geospatial_data.Rmd</code></div>
    </div>

    
    
<p><strong>ColOpenData</strong> can be used to access open Colombian
geospatial data. This data is retrieved from the Geostatistical National
Framework (MGN) published by the Administrative National Department of
Statistics <a href="https://www.dane.gov.co/index.php/en/" class="external-link">(DANE)</a>.</p>
<p>This package contains the 2018’s version of the MGN, which also
included a summarized version of the National Population and Housing
Census (CNPV) in different aggregation levels. Each level is stored in a
different dataset, which can be retrieved using the
<code>download_geospatial</code> function.</p>
<p><code>download_geospatial</code> only requires one argument, which is
the name of the dataset to consult. The available datasets are stored in
the same pattern:</p>
<div class="alert alert-info">
<p>SOURCE_DATASET_YEAR_DETAILS</p>
</div>
<p>All datasets contained come from the same source: DANE, and are the
same type of dataset: MGNCNPV which contains the National Geostatistical
Framework including the summarized National Population and Housing
Census of 2018. Details for geospatial datasets relate to the level of
aggregation as follows:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Code</th>
<th align="left">Level</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">DANE_MGNCNPV_2018_DPTO</td>
<td align="left">Department</td>
</tr>
<tr class="even">
<td align="left">DANE_MGNCNPV_2018_MPIO</td>
<td align="left">Municipality</td>
</tr>
<tr class="odd">
<td align="left">DANE_MGNCNPV_2018_MPIOCL</td>
<td align="left">Municipality including Class</td>
</tr>
<tr class="even">
<td align="left">DANE_MGNCNPV_2018_MZN</td>
<td align="left">Block Level</td>
</tr>
<tr class="odd">
<td align="left">DANE_MGNCNPV_2018_SECR</td>
<td align="left">Rural Sector</td>
</tr>
<tr class="even">
<td align="left">DANE_MGNCNPV_2018_SECU</td>
<td align="left">Urban Sector</td>
</tr>
<tr class="odd">
<td align="left">DANE_MGNCNPV_2018_SETR</td>
<td align="left">Rural Section</td>
</tr>
<tr class="even">
<td align="left">DANE_MGNCNPV_2018_SETU</td>
<td align="left">Urban Section</td>
</tr>
</tbody>
</table>
<p>For this example, we will download the geospatial data at the level
of department, to later include epidemiological data from dengue cases
in 2018 and visualize the departments with the highest case counts.</p>
<p>We will start by importing needed libraries</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ColOpenData</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="downloading-and-plotting-geospatial-data">Downloading and plotting geospatial data<a class="anchor" aria-label="anchor" href="#downloading-and-plotting-geospatial-data"></a>
</h2>
<p>To download the geospatial data we will use the
<code>download_geospatial</code> function, with the respective code for
department level.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">departments</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_geospatial.html">download_geospatial</a></span><span class="op">(</span><span class="st">"DANE_MGNCNPV_2018_DPTO"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">departments</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'sf' and 'data.frame':   33 obs. of  89 variables:</span></span>
<span><span class="co">#&gt;  $ DPTO_CCDGO: chr  "18" "19" "86" "76" ...</span></span>
<span><span class="co">#&gt;  $ DPTO_CNMBR: chr  "CAQUETÁ" "CAUCA" "PUTUMAYO" "VALLE DEL CAUCA" ...</span></span>
<span><span class="co">#&gt;  $ VERSION   : num  2018 2018 2018 2018 2018 ...</span></span>
<span><span class="co">#&gt;  $ AREA      : num  9.01e+10 3.12e+10 2.60e+10 2.07e+10 7.13e+10 ...</span></span>
<span><span class="co">#&gt;  $ LATITUD   : num  0.799 2.397 0.452 3.859 2.728 ...</span></span>
<span><span class="co">#&gt;  $ LONGITUD  : num  -74 -76.8 -75.9 -76.5 -68.8 ...</span></span>
<span><span class="co">#&gt;  $ STCTNENCUE: num  163381 622959 147797 1674673 13059 ...</span></span>
<span><span class="co">#&gt;  $ STP3_1_SI : num  1117 83033 4704 18250 3675 ...</span></span>
<span><span class="co">#&gt;  $ STP3_2_NO : num  162264 539926 143093 1656423 9384 ...</span></span>
<span><span class="co">#&gt;  $ STP3A_RI  : num  1117 70827 4659 3618 3675 ...</span></span>
<span><span class="co">#&gt;  $ STP3B_TCN : num  0 12206 45 14632 0 ...</span></span>
<span><span class="co">#&gt;  $ STP4_1_SI : num  544 226 1389 21431 532 ...</span></span>
<span><span class="co">#&gt;  $ STP4_2_NO : num  162837 622733 146408 1653242 12527 ...</span></span>
<span><span class="co">#&gt;  $ STP9_1_USO: num  132937 446806 107456 1410067 11111 ...</span></span>
<span><span class="co">#&gt;  $ STP9_2_USO: num  5429 10837 3397 39096 293 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_USO: num  24804 165011 36789 224820 1553 ...</span></span>
<span><span class="co">#&gt;  $ STP9_4_USO: num  211 324 173 690 102 101 204 29 131 103 ...</span></span>
<span><span class="co">#&gt;  $ STP9_2_1_M: num  96 328 67 1920 12 12 248 12 0 39 ...</span></span>
<span><span class="co">#&gt;  $ STP9_2_2_M: num  3860 6147 2572 22705 154 ...</span></span>
<span><span class="co">#&gt;  $ STP9_2_3_M: num  1117 2276 717 11986 106 ...</span></span>
<span><span class="co">#&gt;  $ STP9_2_4_M: num  243 2016 29 2357 6 ...</span></span>
<span><span class="co">#&gt;  $ STP9_2_9_M: num  113 70 12 128 15 14 8 36 14 47 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_1_N: num  160 810 188 5572 15 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_2_N: num  5422 10334 4402 50097 244 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_3_N: num  2511 9455 2485 40191 263 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_4_N: num  3052 43342 6665 32665 24 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_5_N: num  1250 3515 1428 5452 149 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_6_N: num  10099 86486 18445 67080 597 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_7_N: num  678 3155 368 6881 35 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_8_N: num  12 105 74 169 7 3 52 9 0 2 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_9_N: num  96 969 319 1340 5 6 227 3 2 4 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_10 : num  1453 6596 2334 14970 206 ...</span></span>
<span><span class="co">#&gt;  $ STP9_3_99 : num  71 244 81 403 8 6 45 22 1 16 ...</span></span>
<span><span class="co">#&gt;  $ STVIVIENDA: num  138366 457643 110853 1449163 11404 ...</span></span>
<span><span class="co">#&gt;  $ STP14_1_TI: num  115307 372096 90540 902928 8577 ...</span></span>
<span><span class="co">#&gt;  $ STP14_2_TI: num  18322 33837 11052 490230 690 ...</span></span>
<span><span class="co">#&gt;  $ STP14_3_TI: num  3591 18177 8098 52855 311 ...</span></span>
<span><span class="co">#&gt;  $ STP14_4_TI: num  493 30035 684 1173 1697 ...</span></span>
<span><span class="co">#&gt;  $ STP14_5_TI: num  35 2187 49 518 34 ...</span></span>
<span><span class="co">#&gt;  $ STP14_6_TI: num  618 1311 430 1459 95 ...</span></span>
<span><span class="co">#&gt;  $ STP15_1_OC: num  110525 367793 91508 1231570 9364 ...</span></span>
<span><span class="co">#&gt;  $ STP15_2_OC: num  4306 24327 3418 64873 72 ...</span></span>
<span><span class="co">#&gt;  $ STP15_3_OC: num  7299 32268 5761 41444 660 ...</span></span>
<span><span class="co">#&gt;  $ STP15_4_OC: num  16236 33255 10166 111276 1308 ...</span></span>
<span><span class="co">#&gt;  $ TSP16_HOG : num  116166 432493 107053 1267039 9953 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EC_1: num  93242 336910 70944 1216379 5822 ...</span></span>
<span><span class="co">#&gt;  $ STP19_ES_2: num  17283 30883 20564 15191 3542 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EE_1: num  70029 228576 58033 321720 3421 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EE_2: num  16659 51555 9096 438056 1401 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EE_3: num  3868 22577 1002 295053 144 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EE_4: num  523 10705 46 84368 5 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EE_5: num  20 2682 15 54589 3 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EE_6: num  7 564 37 16599 1 ...</span></span>
<span><span class="co">#&gt;  $ STP19_EE_9: num  2136 20251 2715 5994 847 ...</span></span>
<span><span class="co">#&gt;  $ STP19_ACU1: num  80362 239233 47315 1174360 2047 ...</span></span>
<span><span class="co">#&gt;  $ STP19_ACU2: num  30163 128560 44193 57210 7317 ...</span></span>
<span><span class="co">#&gt;  $ STP19_ALC1: num  72630 163290 49898 1119657 2621 ...</span></span>
<span><span class="co">#&gt;  $ STP19_ALC2: num  37895 204503 41610 111913 6743 ...</span></span>
<span><span class="co">#&gt;  $ STP19_GAS1: num  40608 101100 13261 1003741 0 ...</span></span>
<span><span class="co">#&gt;  $ STP19_GAS2: num  67966 264114 77496 218169 9364 ...</span></span>
<span><span class="co">#&gt;  $ STP19_GAS9: num  1951 2579 751 9660 0 ...</span></span>
<span><span class="co">#&gt;  $ STP19_REC1: num  80237 163693 54930 1156676 3615 ...</span></span>
<span><span class="co">#&gt;  $ STP19_REC2: num  30288 204100 36578 74894 5749 ...</span></span>
<span><span class="co">#&gt;  $ STP19_INT1: num  16740 57774 9947 683961 693 ...</span></span>
<span><span class="co">#&gt;  $ STP19_INT2: num  91374 307230 80704 537450 8442 ...</span></span>
<span><span class="co">#&gt;  $ STP19_INT9: num  2411 2789 857 10159 229 ...</span></span>
<span><span class="co">#&gt;  $ STP27_PERS: num  359602 1243503 283197 3789874 44431 ...</span></span>
<span><span class="co">#&gt;  $ STPERSON_L: num  11260 7969 5720 27645 6849 ...</span></span>
<span><span class="co">#&gt;  $ STPERSON_S: num  348342 1235534 277477 3762229 37582 ...</span></span>
<span><span class="co">#&gt;  $ STP32_1_SE: num  182378 615833 142900 1800614 23214 ...</span></span>
<span><span class="co">#&gt;  $ STP32_2_SE: num  177224 627670 140297 1989260 21217 ...</span></span>
<span><span class="co">#&gt;  $ STP34_1_ED: num  63844 198781 47232 460691 11162 ...</span></span>
<span><span class="co">#&gt;  $ STP34_2_ED: num  78433 224899 60789 571709 12028 ...</span></span>
<span><span class="co">#&gt;  $ STP34_3_ED: num  62230 218267 51033 632594 7334 ...</span></span>
<span><span class="co">#&gt;  $ STP34_4_ED: num  50014 184644 42216 556818 5070 ...</span></span>
<span><span class="co">#&gt;  $ STP34_5_ED: num  39637 141446 32710 489478 3781 ...</span></span>
<span><span class="co">#&gt;  $ STP34_6_ED: num  31396 119102 23515 468483 2749 ...</span></span>
<span><span class="co">#&gt;  $ STP34_7_ED: num  19015 81959 14118 325926 1327 ...</span></span>
<span><span class="co">#&gt;  $ STP34_8_ED: num  10148 48453 7828 183070 739 ...</span></span>
<span><span class="co">#&gt;  $ STP34_9_ED: num  4885 25952 3756 101105 241 ...</span></span>
<span><span class="co">#&gt;  $ STP51_PRIM: num  113225 434283 85979 851033 18602 ...</span></span>
<span><span class="co">#&gt;  $ STP51_SECU: num  24649 195877 30892 446077 2788 ...</span></span>
<span><span class="co">#&gt;  $ STP51_SUPE: num  17680 105690 20987 636722 2227 ...</span></span>
<span><span class="co">#&gt;  $ STP51_POST: num  904 7288 501 44248 28 ...</span></span>
<span><span class="co">#&gt;  $ STP51_13_E: num  17844 56673 11058 111703 2545 ...</span></span>
<span><span class="co">#&gt;  $ STP51_99_E: num  10238 17057 5630 49860 1886 ...</span></span>
<span><span class="co">#&gt;  $ Shape_Leng: num  21.4 14 12.7 12.7 21.2 ...</span></span>
<span><span class="co">#&gt;  $ Shape_Area: num  7.32 2.53 2.11 1.68 5.75 ...</span></span>
<span><span class="co">#&gt;  $ geometry  :sfc_MULTIPOLYGON of length 33; first list element: List of 1</span></span>
<span><span class="co">#&gt;   ..$ :List of 1</span></span>
<span><span class="co">#&gt;   .. ..$ : num [1:33224, 1:2] -74.9 -74.9 -74.9 -74.9 -74.9 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:3] "XY" "MULTIPOLYGON" "sfg"</span></span>
<span><span class="co">#&gt;  - attr(*, "sf_column")= chr "geometry"</span></span>
<span><span class="co">#&gt;  - attr(*, "agr")= Factor w/ 3 levels "constant","aggregate",..: NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "names")= chr [1:88] "DPTO_CCDGO" "DPTO_CNMBR" "VERSION" "AREA" ...</span></span></code></pre></div>
<p>Once downloaded, we can subset the data as desired. In this example
we only need the departments codes and geometries.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">departments_filtered</span> <span class="op">&lt;-</span> <span class="va">departments</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">DPTO_CCDGO</span>, <span class="va">geometry</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">departments_filtered</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'sf' and 'data.frame':   33 obs. of  2 variables:</span></span>
<span><span class="co">#&gt;  $ DPTO_CCDGO: chr  "18" "19" "86" "76" ...</span></span>
<span><span class="co">#&gt;  $ geometry  :sfc_MULTIPOLYGON of length 33; first list element: List of 1</span></span>
<span><span class="co">#&gt;   ..$ :List of 1</span></span>
<span><span class="co">#&gt;   .. ..$ : num [1:33224, 1:2] -74.9 -74.9 -74.9 -74.9 -74.9 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:3] "XY" "MULTIPOLYGON" "sfg"</span></span>
<span><span class="co">#&gt;  - attr(*, "sf_column")= chr "geometry"</span></span>
<span><span class="co">#&gt;  - attr(*, "agr")= Factor w/ 3 levels "constant","aggregate",..: NA</span></span>
<span><span class="co">#&gt;   ..- attr(*, "names")= chr "DPTO_CCDGO"</span></span></code></pre></div>
<p>Dengue cases during 2018 can be loaded from the example dataset
<code>dengue_2018</code>, which was previously loaded in the
package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">dengue_2018</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">dengue_2018</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [34 × 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ DPTO_CCDGO: chr [1:34] "00" "01" "05" "08" ...</span></span>
<span><span class="co">#&gt;  $ CASES     : int [1:34] 4 407 3737 3298 1395 96 47 191 177 2103 ...</span></span></code></pre></div>
<p>To merge the datasets we will use the department’s codes, marked by
the same column name in this example.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dengue_col</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">departments_filtered</span>,</span>
<span>  y <span class="op">=</span> <span class="va">dengue_2018</span>,</span>
<span>  by <span class="op">=</span> <span class="st">"DPTO_CCDGO"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Finally, we can visualize the cases in a map.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dengue_col</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">CASES</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">scale_fill_gradientn</a></span><span class="op">(</span></span>
<span>    colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">brewer.pal</a></span><span class="op">(</span><span class="fl">7</span>, <span class="st">"YlOrRd"</span><span class="op">)</span>,</span>
<span>    name <span class="op">=</span> <span class="st">"Cases"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Dengue Cases in Colombia during 2018"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="geospatial_data_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Maria Camila Tavera Cifuentes, Julian Otero, Juan D. Umana, Juan F. Montenegro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
